#!/bin/bash

declare -a SEEDS=(-7894263 -5101384 643080 9864557 2073475 1464880 7747850 -8662595 2082094 705275 7115560 -942719 736608 -9798938 -9577955 -4808873 -354907 1603080 4123817 -188736 7529813 4006837 -6955932 -143488 7647384 5565493 4971532 -1261820 -5122018 -3004817 )

PROGRAM="~/Code/EyeSpyAPSU/src/WindmillUNet.py"
RATIO=1
BATCHSIZE=8
LEARNINGRATE=0.00007
LAYERS=4
STARTSEED=1
ENDSEED=30

if [ "$#" -eq 1 ]; then
        BATCHSIZE=$1
fi

if [ "$#" -eq 2 ]; then
        BATCHSIZE=$1
        LEARNINGRATE=$2
fi

if [ "$#" -eq 3 ]; then
        BATCHSIZE=$1
        LEARNINGRATE=$2
	LAYERS=$3
fi

if [ "$#" -eq 5 ]; then
        BATCHSIZE=$1
        LEARNINGRATE=$2
	LAYERS=$3
	STARTSEED=$4
	ENDSEED=$5
fi

export TF_CPP_MIN_LOG_LEVEL=2

for run in $(seq $STARTSEED $ENDSEED)
do
 	python3 -u $PROGRAM ${SEEDS[$run-1]} --tune $RATIO 0.6 0.2 $BATCHSIZE $LEARNINGRATE $LAYERS
done
